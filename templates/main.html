<!doctype html>
<html lang="en" data-bs-theme="auto">
<head>
    {% load static %}
    <script src="{% static 'assets/js/color-modes.js' %}"></script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.118.2">
    <title>{% block title %}Shopping cart{% endblock title %}</title>
    <!--    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/pricing/">-->
    <!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">-->
    <link href="{% static 'assets/dist/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'css/override.css' %}" rel="stylesheet">
</head>
<body>

<nav class="navbar fixed-top bg-light navbar-expand-lg">
    <header class="container">
        <a class="navbar-brand col-lg-1 me-0" href="/">SHOP</a>
            {% block menu %}
            <ul class="navbar-nav col-lg-6 justify-content-lg-left">
                <li class="nav-item ">
                    <a class="nav-link active" aria-current="page" href="/orders">Orders</a>
                </li>
            </ul>

            <div class="col-lg-4">
                <div class="btn-group">
                {% block cart %}

                    <a class="nav-link dropdown-toggle disable me-3" href="#" data-bs-toggle="dropdown" aria-expanded="false">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                             class="bi bi-cart" viewBox="0 0 16 16">
                            <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path>
                        </svg>
                    </a>

                {% endblock cart %}
                </div>

                {% block user %}
                <div class="btn-group">
                    <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" aria-expanded="true">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                             class="bi bi-person" viewBox="0 0 16 16">
                            <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/>
                        </svg>
                    </a>
                    <ul class="dropdown-menu text-center" title="{{ userid }}">
                        <li class="small">id: <span class="badge rounded-pill text-bg-light">
                            {% if userid|length > 10%}
                                cart-{{ userid|truncatechars:9 }}{{ userid|slice:"::-1"|truncatechars:9|slice:'::-1' }}
                            {% else %}
                                cart-{{ userid }}
                            {% endif %}
                            </span>
                        </li>
                        <li><hr/></li>
                        <li class="small"  title="cart-{{ userid }}">
                            Cart id: <span
                                class="badge rounded-pill text-bg-light">
                            {% if userid|length > 10%}
                                cart-{{ userid|truncatechars:9 }}{{ userid|slice:"::-1"|truncatechars:9|slice:'::-1' }}
                            {% else %}
                                cart-{{ userid }}
                            {% endif %}
                        </span></li>
                        <!--                        <code>redis-cli -a please -h 10.21.17.68 get cart-{{ userid }}</code>-->
        <!--                    <li><hr/></li>-->
        <!--                    <li class="small mb-0">Order id: <span class="badge rounded-pill text-bg-light">order-{{ userid }}</span></li>-->
                        <!--                        <code>redis-cli -a please -h 10.21.17.68 smembers order-{{ userid }}</code>-->
                        {% if username == 'Undefined' %}
                        <li><hr/></li>
                        <li>
                            <form action="/save-name/save" method="post">
                                {% csrf_token %}
                                <label for="username">Your name: </label>
                                <input id="username" type="text" name="username" value="">
                                <input type="submit" class="btn btn-sm btn-primary" value="Save name">
                            </form>
                        </li>
                        {% else %}
                        <li class="small mb-0">User name: <span
                                class="badge rounded-pill text-bg-light">{{ username }}</span></li>
                        <form action="/save-name/edit" method="post">
                            {% csrf_token %}
                            <input type="submit" class="btn btn-sm btn-primary" value="Edit name">
                        </form>
                        {% endif %}
                        </li>
                    </ul>
                </div>
                {% endblock user %}
            </div>
        {% endblock menu %}
        </div>
    </header>
</nav>
<div class="container py-3">
    <main class="mt-5">
        {% if message|length > 0 %}
        {% block message %}
        <div class="alert alert-success" role="alert">
            <strong>Thank you for order!</strong> {{ message }}.
        </div>
        {% endblock message %}
        {% endif %}

        <div class="row mb-3 ">
            {% block content %} No content {% endblock content %}
        </div>
    </main>

    <footer class="pt-4 my-md-5 pt-md-5 border-top">
        {% block footer %}  {% endblock footer %}
    </footer>
</div>
<script src="{% static 'assets/dist/js/bootstrap.bundle.min.js' %}"></script>
</body>
</html>
